(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2xMU":function(t,e,a){"use strict";a.r(e);var i=a("nWMH"),n=a.n(i),s=a("Snq/"),r=a.n(s);a("e7F3").a.localize("en",{custom:{activity:{required:'O campo "Adicionar uma Atividade" é obrigatório'}}});var o={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){var e=this;if(t){var a=JSON.parse(JSON.stringify(this.data)),i=a.id,n=a.lead_id,s=a.contact,r=a.title,o=a.deadline,l=a.probability,d=a.stage;this.dataId=i,this.lead_id=n,this.contact=s,this.title=r,this.deadline=o,this.stage=d,this.probability=this.$store.state.initialSelectData.probabilityStatus.find((function(t){return t.value===l})),this.$http.post("/api/users_list").then((function(t){t.data.status&&e.$store.commit("SET_USERS",t.data.user_list)})).catch((function(t){console.log(t)})),this.$http.post("/api/activities_deal",{deal_id:this.dataId}).then((function(t){t.data.status&&e.$store.commit("activity_deal/SET_ACTIVITIES",t.data.activity_list)})).catch((function(t){console.log(t)})),this.$http.post("/api/leads/"+this.lead_id).then((function(t){t.data.status&&(e.lead=t.data.lead)})).catch((function(t){console.log(t)}))}}},data:function(){return{dataId:null,contact:"",lead_id:null,title:"",deadline:"",probability:"",stage:"",error:"",activity:"",lead:{email:"",company:"",address:"",telephone:""},settings:{maxScrollbarLength:60,wheelSpeed:.6}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},activities:function(){return this.$store.state.activity_deal.activities},users:function(){return this.$store.state.UserList}},methods:{changeStage:function(t){var e=this;if(t!=this.stage){var a={id:this.dataId,contact:this.contact,title:this.title,stage:t,deadline:this.deadline};this.$http.post("/api/deals/edit",a).then((function(a){a.data.status?(e.$store.commit("deal/SET_DEALS",a.data.deal_list),e.stage=t,e.$vs.notify({title:"Deal Operation",text:"A deal edited successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):e.$vs.notify({title:"Deal Operation",text:"Editing deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(t){e.$vs.notify({title:"Deal Operation",text:t,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}},getProbabilityStatusColor:function(t){return"1"==t?"danger":"2"==t?"primary":"3"==t?"success":"danger"},addNewActivity:function(){var t=this;this.$validator.validateAll().then((function(e){e&&t.$http.post("/api/activity_deal/add",{description:t.activity,user_id:t.$store.state.AppActiveUser.uid,deal_id:t.dataId}).then((function(e){e.data.status?(t.activity="",t.$store.commit("activity_deal/SET_ACTIVITIES",e.data.activity_list),t.$validator.reset(),t.$vs.notify({title:"Deal Activity",text:"An activity added successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Deal Activity",text:"Adding activity failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Deal Activity",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},deleteDeal:function(){var t=this,e=[];e.push(this.dataId),this.$http.post("/api/deals/delete",{ids:e}).then((function(e){e.data.status?(t.$store.commit("deal/SET_DEALS",e.data.deal_list),t.$vs.notify({title:"Deal Operation",text:"Deal deleted successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Deal Operation",text:"Deleting deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-icon"})})).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-icon"})}))},editDeal:function(){this.$emit("editSidebar",this.data)}},components:{VuePerfectScrollbar:n.a,"v-select":r.a}},l=(a("v57W"),a("KHd+")),d=Object(l.a)(o,(function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-7/12"},[i("VuePerfectScrollbar",{key:e.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[i("div",{staticClass:"p-6"},[i("h4",{staticClass:"py-6"},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"mb-6 d-flex"},[i("div",{class:1===e.stage?"step-active":"step",staticStyle:{"z-index":"4"},on:{click:function(t){return e.changeStage(1)}}},[i("div",{staticClass:"pt-4"},[e._v("Em Aberto")])]),e._v(" "),i("div",{class:2===e.stage?"step-active":"step",staticStyle:{position:"relative",left:"-12px","z-index":"3"},on:{click:function(t){return e.changeStage(2)}}},[i("div",{staticClass:"pt-4"},[e._v("Proposta")])]),e._v(" "),i("div",{class:3===e.stage?"step-active":"step",staticStyle:{position:"relative",left:"-24px","z-index":"2"},on:{click:function(t){return e.changeStage(3)}}},[i("div",{staticClass:"pt-4"},[e._v("Acompanhar")])]),e._v(" "),i("div",{class:4===e.stage?"step-active":"step",staticStyle:{position:"relative",left:"-36px","z-index":"1"},on:{click:function(t){return e.changeStage(4)}}},[i("div",{staticClass:"pt-4"},[e._v("Fechamento")])])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Nome de contato")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.contact))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Email")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.lead.email))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Telefone")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.lead.telephone))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Empresa")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.lead.company))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Endereço")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.lead.address))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Data do fechamento")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.formatDate(e.deadline)))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Probabildade")]),i("br"),e._v(" "),i("vs-chip",{attrs:{color:e.getProbabilityStatusColor(e.probability.value)}},[e._v(e._s(e.probability.label))])],1),e._v(" "),i("div",{staticClass:"my-12",staticStyle:{position:"absolute",bottom:"0px"}},[i("vs-button",{staticClass:"custom-filled-button mr-3",staticStyle:{"min-width":"160px"},attrs:{color:"white",type:"filed"}},[e._v("Ganho")]),e._v(" "),i("vs-button",{staticClass:"custom-filled-button",staticStyle:{"min-width":"160px",background:"#f7f7f9",color:"#626262",border:"1px solid #e6ecee"},attrs:{color:"white",type:"filed"}},[e._v("Perdido")])],1)])])],1),e._v(" "),i("div",{staticClass:"vx-col w-5/12 activity-container p-0"},[i("div",{staticClass:"p-8 px-10"},[i("div",{staticClass:"mt-6 mb-10 flex items-center justify-between float-right"},[i("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-custom-content":"","vs-trigger-click":""}},[i("feather-icon",{staticClass:"cursor-pointer ml-auto mr-2",attrs:{icon:"MoreHorizontalIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}}),e._v(" "),i("vs-dropdown-menu",{staticClass:"vx-navbar-dropdown",staticStyle:{"z-index":"99990"}},[e.isSidebarActiveLocal?i("ul",{staticStyle:{"min-width":"9rem"}},[i("li",{staticClass:"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white",on:{click:function(){e.isSidebarActiveLocal=!1,t.editDeal()}}},[i("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-4 h-4"}}),e._v(" "),i("span",{staticClass:"ml-2"},[e._v("Editar")])],1),e._v(" "),i("li",{staticClass:"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white",on:{click:function(){e.isSidebarActiveLocal=!1,t.deleteDeal()}}},[i("feather-icon",{attrs:{icon:"TrashIcon",svgClasses:"w-4 h-4"}}),e._v(" "),i("span",{staticClass:"ml-2"},[e._v("Excluir")])],1)]):e._e()])],1),e._v(" "),i("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),e._v(" "),i("div",{staticClass:"mt-10 pt-8"},[i("span",{staticClass:"custom-placeholder"},[e._v("Adicionar uma Atividade")]),e._v(" "),i("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"activity",danger:e.errors.has("activity"),"val-icon-success":"done","val-icon-danger":"clear"},model:{value:e.activity,callback:function(t){e.activity=t},expression:"activity"}}),e._v(" "),e.errors.has("activity")?i("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("activity")))]):e._e()],1),e._v(" "),i("div",{staticClass:"my-6"},[i("div",{staticClass:"float-right btn-add-new p-2 mb-6 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary add-button",on:{click:e.addNewActivity}},[i("span",{staticClass:"ml-2 text-primary"},[e._v("Registrar")])])])]),e._v(" "),i("vs-divider",{staticClass:"mb-0"}),e._v(" "),i("VuePerfectScrollbar",{key:e.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[i("div",{staticClass:"p-8 px-10 mb-12"},e._l(e.activities,(function(t,a){return i("div",{key:t.id,staticClass:"d-flex activity-contents"},[i("div",{class:a!=e.activities.length-1?"left-border-activity":"left-border-activity-last"},[i("feather-icon",{staticClass:"cursor-pointer activity-icon",attrs:{icon:"CircleIcon"}})],1),e._v(" "),i("div",{staticClass:"activity-content py-2 px-4"},[i("span",{staticClass:"custom-placeholder"},[e._v(e._s(t.description))]),i("br"),e._v(" "),i("span",[e._v(e._s(t.created_at))]),i("br"),e._v(" "),i("span",[e._v("por "+e._s(e.users.find((function(e){return e.id===t.user_id})).name))])])])})),0)])],1)])])}),[],!1,null,"0d49e548",null).exports,c=a("8k7L"),v=a("oOkm"),u=a("7EX9"),p=(a("QRy/"),{components:{DealViewSidebar:d,DealEditSidebar:c.a,DatePicker:u.a,"v-select":r.a},data:function(){return{selected:[],itemsPerPage:20,isMounted:!1,addNewDataSidebar:!1,addViewDataSidebar:!1,sidebarData:{},viewbarData:{},filterDate:[],filterStage:[],isList:!0}},computed:{currentPage:function(){return this.isMounted?this.$refs.table.currentx:0},deals:function(){var t=[];return this.filterStage.forEach((function(e){t.push(e.value)})),this.$store.commit("deal/SET_FILTER_STAGE",t),this.$store.commit("deal/SET_FILTER_DATE",this.filterDate),this.$store.getters["deal/filteredDeals"]},probabilityStatus:function(){return this.$store.state.initialSelectData.probabilityStatus},stageStatus:function(){return this.$store.state.initialSelectData.stageStatus},queriedItems:function(){return this.$refs.table?this.$refs.table.queriedResults.length:this.deals.length},activeUserInfo:function(){return this.$store.state.AppActiveUser}},methods:{getStageImage:function(t){switch(t){case 1:return a("DOkU");case 2:return a("CioW");case 3:return a("5b6l");case 4:return a("QkWt");default:return a("DOkU")}},addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},deleteData:function(){var t=this,e=[];this.selected.forEach((function(t){e.push(t.id)})),this.$http.post("/api/deals/delete",{ids:e}).then((function(e){e.data.status?(t.$store.commit("deal/SET_DEALS",e.data.deal_list),t.selected=[],t.$vs.notify({title:"Deal Operation",text:"Deals deleted successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Deal Operation",text:"Deleting deals failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))},editData:function(t){this.sidebarData=t,this.toggleDataSidebar(!0)},viewData:function(t){this.sidebarData=t,this.toggleEditDataSidebar(!0)},getProbabilityStatusColor:function(t){return"1"==t?"danger":"2"==t?"primary":"3"==t?"success":"danger"},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t},toggleEditDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addViewDataSidebar=t},selectAll:function(){this.selected.length==this.deals.length?this.selected=[]:this.selected=this.deals},selectRow:function(t,e){this.toggleEditDataSidebar(!1),t.target.checked?this.selected.find((function(t){return t.id===e.id}))||this.selected.push(e):this.selected.find((function(t){return t.id===e.id}))&&this.selected.splice(this.selected.indexOf(e),1)}},created:function(){var t=this;v.a.isRegistered||(this.$store.registerModule("deal",v.a),v.a.isRegistered=!0),this.$http.post("/api/deals").then((function(e){e.data.status&&t.$store.commit("deal/SET_DEALS",e.data.deal_list)})).catch((function(t){console.log(t)}))},mounted:function(){this.isMounted=!0}}),f=(a("vC4r"),Object(l.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",{staticClass:"deals-container"},[a("deal-edit-sidebar",{attrs:{isSidebarActive:t.addNewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar}}),t._v(" "),a("deal-view-sidebar",{attrs:{isSidebarActive:t.addViewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleEditDataSidebar,editSidebar:t.editData}}),t._v(" "),a("div",{staticClass:"data-list-container",attrs:{id:"data-list-deal-view"}},[a("vs-table",{ref:"table",attrs:{pagination:"","max-items":t.itemsPerPage,data:t.deals},on:{selected:function(e){return t.viewData(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[a("tbody",t._l(i,(function(e,i){return a("vs-tr",{key:i,attrs:{data:e}},[a("td",{staticClass:"td-check"},[a("vs-checkbox",{attrs:{value:!!t.selected.find((function(t){return t.id===e.id}))},on:{click:function(a){return a.stopPropagation(),i=a,t.selectRow(i,e);var i}}})],1),t._v(" "),a("vs-td",[a("p",{staticClass:"deal-name font-medium truncate"},[t._v(t._s(e.title))])]),t._v(" "),a("vs-td",[a("p",{staticClass:"deal-name font-medium truncate"},[t._v(t._s(e.contact))])]),t._v(" "),a("vs-td",[a("img",{staticStyle:{height:"1.8rem"},attrs:{src:t.getStageImage(e.stage)}})]),t._v(" "),a("vs-td",[a("vs-chip",{attrs:{color:t.getProbabilityStatusColor(e.probability)}},[t._v(t._s(t.probabilityStatus.find((function(t){return t.value===e.probability})).label))])],1),t._v(" "),a("vs-td",[a("p",{staticClass:"deal-name font-medium truncate"},[t._v(t._s(t.formatDate(e.deadline)))])]),t._v(" "),a("vs-td",{staticClass:"img-container"},[a("img",{staticClass:"rounded-full product-img",attrs:{src:t.activeUserInfo.photoURL}})]),t._v(" "),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"ChevronRightIcon",svgClasses:"w-5 h-5 text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.viewData(e)}}})],1)],1)})),1)]}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap items-center data-list-btn-container action-container"},[a("div",{staticClass:"vx-row m-0"},[a("div",{staticClass:"vx-col w-1/2 table-title p-0"},[t._v("\n                            Etapas de Negociação\n                        ")]),t._v(" "),a("div",{staticClass:"vx-col w-1/2 p-0"},[a("div",{staticClass:"btn-add-new p-2 mb-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary add-button"},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),t._v(" "),a("span",{staticClass:"ml-2 text-primary"},[t._v("Adicionar Negócio")])],1)])]),t._v(" "),a("div",{staticClass:"rx-row filter-container mb-6 mt-3 d-flex"},[a("div",{staticClass:"vx-col w-1/4"},[a("div",{staticClass:"btn-group d-flex"},[a("div",{class:t.isList?"switch-button-left-active":"switch-button-left",on:{click:function(e){t.isList=!0}}},[a("feather-icon",{attrs:{icon:"ListIcon",svgClasses:"h-4 w-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("Lista")])],1),t._v(" "),a("div",{class:t.isList?"switch-button-right":"switch-button-right-active",on:{click:function(e){t.isList=!1}}},[a("feather-icon",{attrs:{icon:"BarChartIcon",svgClasses:"h-4 w-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("Funil")])],1)])]),t._v(" "),a("div",{staticClass:"vx-col w-3/4 d-flex filter-sub-container"},[a("date-picker",{staticClass:"mr-3",attrs:{editable:!1,lang:"pt-br",range:"",placeholder:"Todos as datas"},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}}),t._v(" "),a("v-select",{staticClass:"origin-filter",attrs:{multiple:"",options:t.stageStatus,placeholder:"Todos as etapas"},model:{value:t.filterStage,callback:function(e){t.filterStage=e},expression:"filterStage"}})],1)]),t._v(" "),a("div",{staticClass:"rx-row filter-container d-flex mb-8"},[a("div",{staticClass:"vx-col w-1/2 d-flex"},[a("div",{staticClass:"action-button font-light",on:{click:t.selectAll}},[a("feather-icon",{attrs:{icon:"CornerLeftDownIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Selecionar todos")])],1),t._v(" "),a("div",{staticClass:"action-button font-light ml-6",on:{click:t.deleteData}},[a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Excluir")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2 d-flex flex-row-reverse"},[a("div",{staticClass:"action-button font-light ml-6"},[a("feather-icon",{attrs:{icon:"PrinterIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Imprimir")])],1),t._v(" "),a("div",{staticClass:"action-button font-light"},[a("feather-icon",{attrs:{icon:"DownloadIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Importar")])],1)])])])]),t._v(" "),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"checkbox"}}),t._v(" "),a("vs-th",{attrs:{"sort-key":"title"}},[t._v("Nome de Negócio")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"contact"}},[t._v("Contato")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"stage"}},[t._v("Etapa da negociação")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"probability"}},[t._v("Probabildade")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"deadline"}},[t._v("Data do fechamento")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"reponsible"}},[t._v("Responsável")]),t._v(" "),a("vs-th")],1)],2)],1)],1)}),[],!1,null,null,null));e.default=f.exports},"4A6M":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"[dir] .deals-container {\n  border-radius: 0px;\n}\n.add-button {\n  max-width: 10rem;\n  font-size: 0.9rem !important;\n}\n[dir] .add-button {\n  border-radius: 2rem !important;\n}\n#data-list-deal-view .filter-container {\n  width: 100%;\n}\n#data-list-deal-view .filter-container .mx-input {\n  height: 37px;\n}\n[dir] #data-list-deal-view .filter-container .mx-input:hover, [dir] #data-list-deal-view .filter-container .mx-input:focus {\n  border: 1px solid rgb(var(--vs-primary));\n}\n#data-list-deal-view .filter-container .origin-filter {\n  min-width: 220px;\n}\n[dir=ltr] #data-list-deal-view .filter-container .origin-filter {\n  float: right;\n}\n[dir=rtl] #data-list-deal-view .filter-container .origin-filter {\n  float: left;\n}\n#data-list-deal-view .filter-container .switch-button-left-active {\n  max-width: 77px;\n  color: white;\n  display: flex;\n}\n[dir] #data-list-deal-view .filter-container .switch-button-left-active {\n  background: rgba(var(--vs-primary), 1) !important;\n  cursor: pointer;\n  margin-bottom: 1rem;\n  padding: 0.3rem 0.5rem;\n}\n[dir=ltr] #data-list-deal-view .filter-container .switch-button-left-active {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n[dir=rtl] #data-list-deal-view .filter-container .switch-button-left-active {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n#data-list-deal-view .filter-container .switch-button-left {\n  max-width: 77px;\n  color: #626262;\n  display: flex;\n}\n[dir] #data-list-deal-view .filter-container .switch-button-left {\n  background: white !important;\n  border: 1px solid #bdbdbd !important;\n  cursor: pointer;\n  margin-bottom: 1rem;\n  padding: 0.3rem 0.5rem;\n}\n[dir=ltr] #data-list-deal-view .filter-container .switch-button-left {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  border-right: none;\n}\n[dir=rtl] #data-list-deal-view .filter-container .switch-button-left {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-left: none;\n}\n#data-list-deal-view .filter-container .switch-button-right-active {\n  max-width: 77px;\n  color: white;\n  display: flex;\n}\n[dir] #data-list-deal-view .filter-container .switch-button-right-active {\n  background: rgba(var(--vs-primary), 1) !important;\n  cursor: pointer;\n  margin-bottom: 1rem;\n  padding: 0.3rem 0.5rem;\n}\n[dir=ltr] #data-list-deal-view .filter-container .switch-button-right-active {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n[dir=rtl] #data-list-deal-view .filter-container .switch-button-right-active {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n#data-list-deal-view .filter-container .switch-button-right {\n  max-width: 77px;\n  color: #626262;\n  display: flex;\n}\n[dir] #data-list-deal-view .filter-container .switch-button-right {\n  background: white !important;\n  border: 1px solid #bdbdbd !important;\n  cursor: pointer;\n  margin-bottom: 1rem;\n  padding: 0.3rem 0.5rem;\n}\n[dir=ltr] #data-list-deal-view .filter-container .switch-button-right {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-left: none;\n}\n[dir=rtl] #data-list-deal-view .filter-container .switch-button-right {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  border-right: none;\n}\n#data-list-deal-view .filter-sub-container {\n  place-content: flex-end;\n}\n#data-list-deal-view .action-container {\n  width: 100%;\n}\n#data-list-deal-view .action-container .vx-row {\n  width: 100%;\n}\n#data-list-deal-view .action-container .add-button {\n  max-width: 12rem;\n  font-size: 0.9rem !important;\n}\n[dir] #data-list-deal-view .action-container .add-button {\n  border-radius: 1rem !important;\n}\n[dir=ltr] #data-list-deal-view .action-container .add-button {\n  float: right;\n}\n[dir=rtl] #data-list-deal-view .action-container .add-button {\n  float: left;\n}\n#data-list-deal-view .action-container .table-title {\n  font-size: 1.5rem;\n}\n#data-list-deal-view .action-container .mx-datepicker-range {\n  width: 220px;\n}\n#data-list-deal-view .action-container .action-button {\n  font-size: 0.8rem;\n}\n[dir] #data-list-deal-view .action-container .action-button {\n  cursor: pointer;\n}\n#data-list-deal-view .action-container .action-button:hover {\n  color: rgb(var(--vs-primary));\n}\n@media (max-width: 461px) {\n#data-list-deal-view .vs-con-table .items-per-page-handler {\n    display: none;\n}\n}\n@media (max-width: 341px) {\n#data-list-deal-view .vs-con-table .data-list-btn-container {\n    width: 100%;\n}\n#data-list-deal-view .vs-con-table .data-list-btn-container .dd-actions,\n#data-list-deal-view .vs-con-table .data-list-btn-container .btn-add-new {\n    width: 100%;\n}\n[dir=ltr] #data-list-deal-view .vs-con-table .data-list-btn-container .dd-actions, [dir=ltr] #data-list-deal-view .vs-con-table .data-list-btn-container .btn-add-new {\n    margin-right: 0 !important;\n}\n[dir=rtl] #data-list-deal-view .vs-con-table .data-list-btn-container .dd-actions, [dir=rtl] #data-list-deal-view .vs-con-table .data-list-btn-container .btn-add-new {\n    margin-left: 0 !important;\n}\n}\n#data-list-deal-view .vs-con-table .deal-name {\n  max-width: 23rem;\n}\n#data-list-deal-view .vs-con-table .vs-table--header {\n  display: flex;\n  flex-wrap: wrap;\n}\n[dir=ltr] #data-list-deal-view .vs-con-table .vs-table--header {\n  margin-left: 1.5rem;\n  margin-right: 1.5rem;\n}\n[dir=rtl] #data-list-deal-view .vs-con-table .vs-table--header {\n  margin-right: 1.5rem;\n  margin-left: 1.5rem;\n}\n#data-list-deal-view .vs-con-table .vs-table--header > span {\n  display: flex;\n  flex-grow: 1;\n}\n#data-list-deal-view .vs-con-table .vs-table {\n  border-collapse: separate;\n  border-spacing: 0 0.2rem;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table {\n  padding: 0 1rem;\n}\n#data-list-deal-view .vs-con-table .vs-table tr {\n  color: #6c6c6c;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table tr {\n  background-color: #f7f7f9;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table tr td {\n  padding: 8px;\n}\n[dir=ltr] #data-list-deal-view .vs-con-table .vs-table tr td:first-child {\n  border-top-left-radius: 0.1rem;\n  border-left: 2px solid rgba(var(--vs-primary), 1);\n}\n[dir=rtl] #data-list-deal-view .vs-con-table .vs-table tr td:first-child {\n  border-top-right-radius: 0.1rem;\n  border-right: 2px solid rgba(var(--vs-primary), 1);\n}\n#data-list-deal-view .vs-con-table .vs-table tr td.img-container span {\n  display: flex;\n  justify-content: flex-start;\n}\n#data-list-deal-view .vs-con-table .vs-table tr td.img-container .product-img {\n  height: 30px;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table tr td.td-check {\n  padding: 8px !important;\n}\n#data-list-deal-view .vs-con-table .vs-table tr td.td-check .vs-checkbox {\n  width: 15px;\n  height: 15px;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table tr:hover {\n  transform: translateY(0px);\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table--thead th {\n  padding-top: 0;\n  padding-bottom: 15px;\n}\n#data-list-deal-view .vs-con-table .vs-table--thead th .vs-table-text {\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.4);\n}\n#data-list-deal-view .vs-con-table .vs-table--thead th.td-check {\n  display: table-column;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table--thead th.td-check {\n  padding: 0 15px !important;\n}\n[dir] #data-list-deal-view .vs-con-table .vs-table--thead tr {\n  background: none;\n  box-shadow: none;\n}\n#data-list-deal-view .vs-con-table .vs-table--pagination {\n  justify-content: center;\n}",""])},"5b6l":function(t,e){t.exports="/images/step-3.png?d4d2de4a97c40fe6a9a9c93d9e6d3b73"},"8k7L":function(t,e,a){"use strict";var i=a("o0o1"),n=a.n(i),s=a("oOkm"),r=a("nWMH"),o=a.n(r),l=a("Snq/"),d=a.n(l),c=a("7EX9");a("QRy/");function v(t,e,a,i,n,s,r){try{var o=t[s](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(i,n)}a("e7F3").a.localize("en",{custom:{contato:{required:'O campo "Nome de contato" é obrigatório'},title:{required:'O campo "Título de Negócio" é obrigatório'},deadline:{required:'O campo "Data de Fechamento" é obrigatório'},stage:{required:'O campo "Etapa atual" é obrigatório'}}});var u={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){if(t)if(0===Object.entries(this.data).length)this.initValues(),this.$validator.reset();else if(this.data.is_lead)this.initValues(),this.$validator.reset(),this.is_lead=!0,this.lead_id=this.data.lead_id;else{var e=JSON.parse(JSON.stringify(this.data)),a=e.id,i=e.contact,n=e.title,s=e.deadline,r=e.stage;this.dataId=a,this.contact=i,this.title=n,this.deadline=this.formatDateOrigin(s),this.stage=this.$store.state.initialSelectData.stageStatus.find((function(t){return t.value===r}))}}},data:function(){return{dataId:null,lead_id:null,is_lead:!1,contact:"",title:"",deadline:"",stage:"",error:"",settings:{maxScrollbarLength:60,wheelSpeed:.6}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},stageStatus:function(){return this.$store.state.initialSelectData.stageStatus}},created:function(){s.a.isRegistered||(this.$store.registerModule("deal",s.a),s.a.isRegistered=!0)},methods:{initValues:function(){this.data.id||(this.dataId=null,this.contact="",this.title="",this.stage="",this.deadline="")},submitData:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a={id:t.dataId,lead_id:t.lead_id,contact:t.contact,title:t.title,stage:t.stage.value,deadline:t.formatDateSave(t.deadline)};null!==t.dataId&&t.dataId>=0?t.$http.post("/api/deals/edit",a).then((function(e){e.data.status?(t.$store.commit("deal/SET_DEALS",e.data.deal_list),t.$emit("closeSidebar"),t.$vs.notify({title:"Deal Operation",text:"A deal edited successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Deal Operation",text:"Editing deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})):t.$http.post("/api/deals/add",a).then(function(){var e,a=(e=n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.data.status){e.next=8;break}return t.$store.commit("deal/SET_DEALS",a.data.deal_list),t.$vs.notify({title:"Deal Operation",text:"A deal added successfully!",color:"success",iconPack:"feather",icon:"icon-check"}),e.next=5,t.$emit("closeSidebar");case 5:t.$router.push("/deals"),e.next=9;break;case 8:t.$vs.notify({title:"Deal Operation",text:"Adding deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"});case 9:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var s=e.apply(t,a);function r(t){v(s,i,n,r,o,"next",t)}function o(t){v(s,i,n,r,o,"throw",t)}r(void 0)}))});return function(t){return a.apply(this,arguments)}}()).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}}))}},components:{VuePerfectScrollbar:o.a,DatePicker:c.a,"v-select":d.a}},p=(a("l1t3"),a("KHd+")),f=Object(p.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(0===Object.entries(this.data).length||t.is_lead?"Adicionar":"Editar")+" Negócio")]),t._v(" "),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),t._v(" "),a("vs-divider",{staticClass:"mb-0"}),t._v(" "),a("VuePerfectScrollbar",{key:t.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6",attrs:{id:"deal-edit-form"}},[a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Nome")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"contact",danger:t.errors.has("contact"),placeholder:"Preencha o nome do contato","val-icon-danger":"clear"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}),t._v(" "),t.errors.has("contact")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("contact")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Título de Negócio")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"title",danger:t.errors.has("title"),placeholder:"Título de Negócio","val-icon-success":"done","val-icon-danger":"clear"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),t.errors.has("title")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("title")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Etapa atual")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.stageStatus,name:"stage"},model:{value:t.stage,callback:function(e){t.stage=e},expression:"stage"}}),t._v(" "),t.errors.has("stage")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("stage")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Data de Fechamento")]),a("br"),t._v(" "),a("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"deadline","value-type":"format",format:"DD/MM/YYYY",editable:!1,lang:"pt-br",placeholder:"Data de Fechamento"},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}}),t._v(" "),t.errors.has("deadline")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("deadline")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"text-danger"},[t._v(t._s(t.error))])]),t._v(" "),a("div",{staticClass:"flex flex-wrap justify-between my-5"},[a("vs-button",{staticClass:"custom-filled-button btn-block",attrs:{color:"white",type:"filed"},on:{click:t.submitData}},[t._v("Salvar")])],1)])])],1)}),[],!1,null,"1d170656",null);e.a=f.exports},CioW:function(t,e){t.exports="/images/step-2.png?effe6ab8c278727d3370421e0458696f"},DOkU:function(t,e){t.exports="/images/step-1.png?9c36233e23a26044a6f4e351796a18ea"},E4pe:function(t,e,a){var i=a("xpyD");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,n);i.locals&&(t.exports=i.locals)},FxyA:function(t,e,a){var i=a("4A6M");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,n);i.locals&&(t.exports=i.locals)},JfWW:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".left-border-activity[data-v-0d49e548] {\n  height: 100px;\n  color: #cecece;\n}[dir=ltr] .left-border-activity[data-v-0d49e548] {\n  border-left: dashed;\n}[dir=rtl] .left-border-activity[data-v-0d49e548] {\n  border-right: dashed;\n}\n.left-border-activity-last[data-v-0d49e548] {\n  height: 100px;\n  color: #cecece;\n}\n[dir=ltr] .left-border-activity-last[data-v-0d49e548] {\n  margin-left: 3px;\n}\n[dir=rtl] .left-border-activity-last[data-v-0d49e548] {\n  margin-right: 3px;\n}\n.activity-content[data-v-0d49e548] {\n  position: relative;\n  top: -18px;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  font-size: 0.9rem;\n}\n[dir] .activity-content[data-v-0d49e548] {\n  border: 1px solid rgb(var(--vs-primary));\n  border-radius: 3px;\n}\n[dir] .activity-contents[data-v-0d49e548] {\n  margin-top: 10px;\n}\n.activity-icon[data-v-0d49e548] {\n  width: 12px;\n  top: -16px;\n}\n[dir=ltr] .activity-icon[data-v-0d49e548] {\n  right: 7px;\n}\n[dir=rtl] .activity-icon[data-v-0d49e548] {\n  left: 7px;\n}\n.add-button[data-v-0d49e548] {\n  max-width: 10rem;\n  font-size: 0.9rem !important;\n  min-width: 120px;\n}\n[dir] .add-button[data-v-0d49e548] {\n  border-radius: 2rem !important;\n}\n.activity-container[data-v-0d49e548] {\n  min-height: 100vh;\n}\n[dir] .activity-container[data-v-0d49e548] {\n  background-color: #f7f7f9;\n}\n.custom-placeholder[data-v-0d49e548] {\n  font-size: 0.8rem;\n  position: relative;\n  top: -5px;\n}\n.custom-text[data-v-0d49e548] {\n  font-size: 1rem;\n  position: relative;\n}\n.add-new-data-sidebar[data-v-0d49e548]  .vs-sidebar--background {\n  z-index: 52010;\n}\n.add-new-data-sidebar[data-v-0d49e548]  .vs-sidebar {\n  z-index: 52010;\n  width: 980px;\n  max-width: 90vw;\n}\n.add-new-data-sidebar h4[data-v-0d49e548] {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.scroll-area--data-list-add-new[data-v-0d49e548] {\n  height: calc(var(--vh, 1vh) * 100 - 16px);\n}",""])},QkWt:function(t,e){t.exports="/images/step-4.png?c7b3883293903106030d08cd3d2451b4"},auAo:function(t,e,a){var i=a("JfWW");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,n);i.locals&&(t.exports=i.locals)},l1t3:function(t,e,a){"use strict";var i=a("E4pe");a.n(i).a},oOkm:function(t,e,a){"use strict";function i(t,e,a){return(i=n()?Reflect.construct:function(t,e,a){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return a&&s(n,a.prototype),n}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={filteredDeals:function(t){return t.deals.filter((function(e){var a=e.deadline.split(/[- :]/);a[1]--;var n=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=n&&t.filter_date[1]>=n&&t.filter_stage.includes(e.stage):t.filter_date[0]<=n&&t.filter_date[1]>=n:t.filter_stage.includes(e.stage))}))}};e.a={isRegistered:!1,namespaced:!0,state:{deals:[],filter_stage:[],filter_date:[]},mutations:{SET_DEALS:function(t,e){t.deals=e},SET_FILTER_STAGE:function(t,e){t.filter_stage=e},SET_FILTER_DATE:function(t,e){t.filter_date=e}},getters:l}},v57W:function(t,e,a){"use strict";var i=a("auAo");a.n(i).a},vC4r:function(t,e,a){"use strict";var i=a("FxyA");a.n(i).a},xpyD:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#deal-edit-form .mx-datepicker[data-v-1d170656] {\n  width: 100%;\n}\n[dir] #deal-edit-form .mx-datepicker[data-v-1d170656]  .mx-input:hover, [dir] #deal-edit-form .mx-datepicker[data-v-1d170656]  .mx-input:focus {\n  border: 1px solid rgb(var(--vs-primary));\n}\n#deal-edit-form .custom-placeholder[data-v-1d170656] {\n  font-size: 0.8rem;\n  position: relative;\n  top: -5px;\n}\n.add-new-data-sidebar[data-v-1d170656]  .vs-sidebar--background {\n  z-index: 52010;\n}\n.add-new-data-sidebar[data-v-1d170656]  .vs-sidebar {\n  z-index: 52010;\n  width: 400px;\n  max-width: 90vw;\n}\n.add-new-data-sidebar h4[data-v-1d170656] {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.scroll-area--data-list-add-new[data-v-1d170656] {\n  height: calc(var(--vh, 1vh) * 100 - 16px - 45px - 82px);\n}",""])}}]);