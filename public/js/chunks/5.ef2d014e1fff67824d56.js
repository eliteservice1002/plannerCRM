(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1KqF":function(t,e,a){var i=a("Bly2");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"5ilu":function(t,e,a){var i=a("JxDe");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"8JNi":function(t,e,a){"use strict";var i=a("p4fD");a.n(i).a},"8k7L":function(t,e,a){"use strict";var i=a("o0o1"),s=a.n(i),n=a("oOkm"),r=a("nWMH"),l=a.n(r),o=a("Snq/"),c=a.n(o),d=a("7EX9");a("QRy/");function v(t,e,a,i,s,n,r){try{var l=t[n](r),o=l.value}catch(t){return void a(t)}l.done?e(o):Promise.resolve(o).then(i,s)}a("e7F3").a.localize("en",{custom:{contato:{required:'O campo "Nome de contato" é obrigatório'},title:{required:'O campo "Título de Negócio" é obrigatório'},deadline:{required:'O campo "Data de Fechamento" é obrigatório'},stage:{required:'O campo "Etapa atual" é obrigatório'}}});var u={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){var e=this;if(t)if(0===Object.entries(this.data).length||this.data.stage&&!this.data.dataId)this.initValues(),this.stage=this.data.stage?this.$store.state.initialSelectData.stageStatus.find((function(t){return t.value===e.data.stage})):"",this.$validator.reset();else if(this.data.is_lead)this.initValues(),this.$validator.reset(),this.is_lead=!0,this.lead_id=this.data.lead_id;else{var a=JSON.parse(JSON.stringify(this.data)),i=a.id,s=a.contact,n=a.title,r=a.deadline,l=a.stage;this.dataId=i,this.contact=s,this.title=n,this.deadline=this.formatDateOrigin(r),this.stage=this.$store.state.initialSelectData.stageStatus.find((function(t){return t.value===l}))}}},data:function(){return{dataId:null,lead_id:null,is_lead:!1,contact:"",title:"",deadline:"",stage:"",error:"",settings:{maxScrollbarLength:60,wheelSpeed:.6}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||(null!==this.dataId&&this.dataId>=0&&this.$emit("viewSidebar",this.data),this.$emit("closeSidebar"))}},stageStatus:function(){return this.$store.state.initialSelectData.stageStatus}},created:function(){n.a.isRegistered||(this.$store.registerModule("deal",n.a),n.a.isRegistered=!0)},methods:{initValues:function(){this.data.id||(this.dataId=null,this.contact="",this.title="",this.stage="",this.deadline="")},submitData:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a={id:t.dataId,lead_id:t.lead_id,contact:t.contact,title:t.title,stage:t.stage.value,deadline:t.formatDateSave(t.deadline)};null!==t.dataId&&t.dataId>=0?t.$http.post("/api/deals/edit",a).then((function(e){e.data.status?(t.$http.post("/api/activity_deal/add",{description:"Deal editado pelo usuário",user_id:t.$store.state.AppActiveUser.uid,deal_id:t.dataId}).then((function(e){e.data.status&&t.$vs.notify({title:"Deal Activity",text:"An activity added successfully!",color:"success",iconPack:"feather",icon:"icon-check"})})).catch((function(t){console.log(t)})),t.$store.commit("deal/SET_DEALS",e.data.deal_list),t.$emit("viewSidebar",{id:t.dataId,lead_id:t.data.lead_id,responsible:t.data.responsible,probability:t.data.probability,contact:t.contact,title:t.title,stage:t.stage.value,deadline:t.formatDateSave(t.deadline)}),t.$emit("closeSidebar"),t.$vs.notify({title:"Deal Operation",text:"A deal edited successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Deal Operation",text:"Editing deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})):t.$http.post("/api/deals/add",a).then(function(){var e,a=(e=s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.data.status){e.next=8;break}return t.$store.commit("deal/SET_DEALS",a.data.deal_list),t.$vs.notify({title:"Deal Operation",text:"A deal added successfully!",color:"success",iconPack:"feather",icon:"icon-check"}),e.next=5,t.$emit("closeSidebar");case 5:t.$router.push("/deals"),e.next=9;break;case 8:t.$vs.notify({title:"Deal Operation",text:"Adding deal failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"});case 9:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,s){var n=e.apply(t,a);function r(t){v(n,i,s,r,l,"next",t)}function l(t){v(n,i,s,r,l,"throw",t)}r(void 0)}))});return function(t){return a.apply(this,arguments)}}()).catch((function(e){t.$vs.notify({title:"Deal Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}}))}},components:{VuePerfectScrollbar:l.a,DatePicker:d.a,"v-select":c.a}},f=(a("t8YN"),a("KHd+")),p=Object(f.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(0===Object.entries(this.data).length||t.is_lead||this.data.stage&&!this.data.dataId?"Adicionar":"Editar")+" Negócio")]),t._v(" "),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),t._v(" "),a("vs-divider",{staticClass:"mb-0"}),t._v(" "),a("VuePerfectScrollbar",{key:t.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6",attrs:{id:"deal-edit-form"}},[a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Nome")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"contact",danger:t.errors.has("contact"),placeholder:"Preencha o nome do contato","val-icon-danger":"clear"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}),t._v(" "),t.errors.has("contact")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("contact")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Título de Negócio")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"title",danger:t.errors.has("title"),placeholder:"Título de Negócio","val-icon-success":"done","val-icon-danger":"clear"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),t.errors.has("title")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("title")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Etapa atual")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.stageStatus,name:"stage"},model:{value:t.stage,callback:function(e){t.stage=e},expression:"stage"}}),t._v(" "),t.errors.has("stage")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("stage")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Data de Fechamento")]),a("br"),t._v(" "),a("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"deadline","value-type":"format",format:"DD/MM/YYYY",editable:!1,lang:"pt-br",placeholder:"Data de Fechamento"},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}}),t._v(" "),t.errors.has("deadline")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("deadline")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"text-danger"},[t._v(t._s(t.error))])]),t._v(" "),a("div",{staticClass:"flex flex-wrap justify-between my-5"},[a("vs-button",{staticClass:"custom-filled-button btn-block",attrs:{color:"white",type:"filed"},on:{click:t.submitData}},[t._v("Salvar")])],1)])])],1)}),[],!1,null,"15783438",null);e.a=p.exports},Bly2:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".left-border-activity[data-v-31ee8d4e] {\n  height: 100px;\n  color: #cecece;\n}[dir=ltr] .left-border-activity[data-v-31ee8d4e] {\n  border-left: dashed;\n}[dir=rtl] .left-border-activity[data-v-31ee8d4e] {\n  border-right: dashed;\n}\n.left-border-activity-last[data-v-31ee8d4e] {\n  height: 100px;\n  color: #cecece;\n}\n[dir=ltr] .left-border-activity-last[data-v-31ee8d4e] {\n  margin-left: 3px;\n}\n[dir=rtl] .left-border-activity-last[data-v-31ee8d4e] {\n  margin-right: 3px;\n}\n.activity-content[data-v-31ee8d4e] {\n  position: relative;\n  top: -18px;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  font-size: 0.9rem;\n}\n[dir] .activity-content[data-v-31ee8d4e] {\n  border: 1px solid rgb(var(--vs-primary));\n  border-radius: 3px;\n}\n[dir] .activity-contents[data-v-31ee8d4e] {\n  margin-top: 10px;\n}\n.activity-icon[data-v-31ee8d4e] {\n  width: 12px;\n  top: -16px;\n}\n[dir=ltr] .activity-icon[data-v-31ee8d4e] {\n  right: 7px;\n}\n[dir=rtl] .activity-icon[data-v-31ee8d4e] {\n  left: 7px;\n}\n.add-button[data-v-31ee8d4e] {\n  max-width: 10rem;\n  font-size: 0.9rem !important;\n  min-width: 120px;\n}\n[dir] .add-button[data-v-31ee8d4e] {\n  border-radius: 2rem !important;\n}\n.activity-container[data-v-31ee8d4e] {\n  min-height: 100vh;\n}\n[dir] .activity-container[data-v-31ee8d4e] {\n  background-color: #f7f7f9;\n}\n.custom-placeholder[data-v-31ee8d4e] {\n  font-size: 0.8rem;\n  position: relative;\n  top: -5px;\n}\n.custom-text[data-v-31ee8d4e] {\n  font-size: 1rem;\n  position: relative;\n  font-weight: lighter;\n}\n.add-new-data-sidebar[data-v-31ee8d4e]  .vs-sidebar--background {\n  z-index: 52010;\n}\n.add-new-data-sidebar[data-v-31ee8d4e]  .vs-sidebar {\n  z-index: 52010;\n  width: 680px;\n  max-width: 90vw;\n}\n.add-new-data-sidebar h4[data-v-31ee8d4e] {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.scroll-area--data-list-add-new[data-v-31ee8d4e] {\n  height: calc(var(--vh, 1vh) * 100 - 16px);\n}",""])},DqGc:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".custom-placeholder[data-v-ee070e6c] {\n  font-size: 0.8rem;\n  position: relative;\n  top: -5px;\n}\n.add-new-data-sidebar[data-v-ee070e6c]  .vs-sidebar--background {\n  z-index: 52010;\n}\n.add-new-data-sidebar[data-v-ee070e6c]  .vs-sidebar {\n  z-index: 52010;\n  width: 400px;\n  max-width: 90vw;\n}\n.add-new-data-sidebar h4[data-v-ee070e6c] {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.scroll-area--data-list-add-new[data-v-ee070e6c] {\n  height: calc(var(--vh, 1vh) * 100 - 16px - 45px - 82px);\n}",""])},Ejr4:function(t,e,a){var i=a("nXsf");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},JxDe:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"[dir] .leads-container {\n  border-radius: 0px;\n}\n.add-button {\n  max-width: 10rem;\n  font-size: 0.9rem !important;\n}\n[dir] .add-button {\n  border-radius: 2rem !important;\n}\n#data-list-list-view .filter-container {\n  width: 100%;\n}\n[dir] #data-list-list-view .filter-container .mx-input:hover, [dir] #data-list-list-view .filter-container .mx-input:focus {\n  border: 1px solid rgb(var(--vs-primary));\n}\n#data-list-list-view .filter-container .origin-filter {\n  min-width: 220px;\n}\n[dir=ltr] #data-list-list-view .filter-container .origin-filter {\n  float: right;\n}\n[dir=rtl] #data-list-list-view .filter-container .origin-filter {\n  float: left;\n}\n#data-list-list-view .action-container {\n  width: 100%;\n}\n#data-list-list-view .action-container .vx-row {\n  width: 100%;\n}\n#data-list-list-view .action-container .add-button {\n  max-width: 10rem;\n  font-size: 0.9rem !important;\n}\n[dir] #data-list-list-view .action-container .add-button {\n  border-radius: 1rem !important;\n}\n[dir=ltr] #data-list-list-view .action-container .add-button {\n  float: right;\n}\n[dir=rtl] #data-list-list-view .action-container .add-button {\n  float: left;\n}\n#data-list-list-view .action-container .table-title {\n  font-size: 1.5rem;\n}\n#data-list-list-view .action-container .mx-datepicker-range {\n  width: 220px;\n}\n#data-list-list-view .action-container .action-button {\n  font-size: 0.8rem;\n}\n[dir] #data-list-list-view .action-container .action-button {\n  cursor: pointer;\n}\n#data-list-list-view .action-container .action-button:hover {\n  color: rgb(var(--vs-primary));\n}\n@media (max-width: 461px) {\n#data-list-list-view .vs-con-table .items-per-page-handler {\n    display: none;\n}\n}\n@media (max-width: 341px) {\n#data-list-list-view .vs-con-table .data-list-btn-container {\n    width: 100%;\n}\n#data-list-list-view .vs-con-table .data-list-btn-container .dd-actions,\n#data-list-list-view .vs-con-table .data-list-btn-container .btn-add-new {\n    width: 100%;\n}\n[dir=ltr] #data-list-list-view .vs-con-table .data-list-btn-container .dd-actions, [dir=ltr] #data-list-list-view .vs-con-table .data-list-btn-container .btn-add-new {\n    margin-right: 0 !important;\n}\n[dir=rtl] #data-list-list-view .vs-con-table .data-list-btn-container .dd-actions, [dir=rtl] #data-list-list-view .vs-con-table .data-list-btn-container .btn-add-new {\n    margin-left: 0 !important;\n}\n}\n#data-list-list-view .vs-con-table .lead-name {\n  max-width: 23rem;\n}\n#data-list-list-view .vs-con-table .vs-table--header {\n  display: flex;\n  flex-wrap: wrap;\n}\n[dir=ltr] #data-list-list-view .vs-con-table .vs-table--header {\n  margin-left: 1.5rem;\n  margin-right: 1.5rem;\n}\n[dir=rtl] #data-list-list-view .vs-con-table .vs-table--header {\n  margin-right: 1.5rem;\n  margin-left: 1.5rem;\n}\n#data-list-list-view .vs-con-table .vs-table--header > span {\n  display: flex;\n  flex-grow: 1;\n}\n#data-list-list-view .vs-con-table .vs-table {\n  border-collapse: separate;\n  border-spacing: 0 0.2rem;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table {\n  padding: 0 1rem;\n}\n#data-list-list-view .vs-con-table .vs-table tr {\n  color: #6c6c6c;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table tr {\n  background-color: #f7f7f9;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table tr td {\n  padding: 8px;\n}\n[dir=ltr] #data-list-list-view .vs-con-table .vs-table tr td:first-child {\n  border-top-left-radius: 0.1rem;\n  border-left: 2px solid rgba(var(--vs-primary), 1);\n}\n[dir=rtl] #data-list-list-view .vs-con-table .vs-table tr td:first-child {\n  border-top-right-radius: 0.1rem;\n  border-right: 2px solid rgba(var(--vs-primary), 1);\n}\n#data-list-list-view .vs-con-table .vs-table tr td.img-container span {\n  display: flex;\n  justify-content: flex-start;\n}\n#data-list-list-view .vs-con-table .vs-table tr td.img-container .product-img {\n  height: 30px;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table tr td.td-check {\n  padding: 8px !important;\n}\n#data-list-list-view .vs-con-table .vs-table tr td.td-check .vs-checkbox {\n  width: 15px;\n  height: 15px;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table tr:hover {\n  transform: translateY(0px);\n}\n[dir] #data-list-list-view .vs-con-table .vs-table--thead th {\n  padding-top: 0;\n  padding-bottom: 15px;\n}\n#data-list-list-view .vs-con-table .vs-table--thead th .vs-table-text {\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.4);\n}\n#data-list-list-view .vs-con-table .vs-table--thead th.td-check {\n  display: table-column;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table--thead th.td-check {\n  padding: 0 15px !important;\n}\n[dir] #data-list-list-view .vs-con-table .vs-table--thead tr {\n  background: none;\n  box-shadow: none;\n}\n#data-list-list-view .vs-con-table .vs-table--pagination {\n  justify-content: center;\n}",""])},Wp5e:function(t,e,a){"use strict";var i=a("5ilu");a.n(i).a},eYXz:function(t,e,a){"use strict";var i=a("1KqF");a.n(i).a},nXsf:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#deal-edit-form .mx-datepicker[data-v-15783438] {\n  width: 100%;\n}\n[dir] #deal-edit-form .mx-datepicker[data-v-15783438]  .mx-input:hover, [dir] #deal-edit-form .mx-datepicker[data-v-15783438]  .mx-input:focus {\n  border: 1px solid rgb(var(--vs-primary));\n}\n#deal-edit-form .custom-placeholder[data-v-15783438] {\n  font-size: 0.8rem;\n  position: relative;\n  top: -5px;\n}\n.add-new-data-sidebar[data-v-15783438]  .vs-sidebar--background {\n  z-index: 52010;\n}\n.add-new-data-sidebar[data-v-15783438]  .vs-sidebar {\n  z-index: 52010;\n  width: 400px;\n  max-width: 90vw;\n}\n.add-new-data-sidebar h4[data-v-15783438] {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.scroll-area--data-list-add-new[data-v-15783438] {\n  height: calc(var(--vh, 1vh) * 100 - 16px - 45px - 82px);\n}",""])},oOkm:function(t,e,a){"use strict";function i(t,e,a){return(i=s()?Reflect.construct:function(t,e,a){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return a&&n(s,a.prototype),s}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var o={filteredDeals:function(t){return t.deals.filter((function(e){var a=e.deadline.split(/[- :]/);a[1]--;var s=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=s&&t.filter_date[1]>=s&&t.filter_stage.includes(e.stage):t.filter_date[0]<=s&&t.filter_date[1]>=s:t.filter_stage.includes(e.stage))}))},firstDeals:function(t){return t.deals.filter((function(e){if(1!=e.stage)return!1;var a=e.deadline.split(/[- :]/);a[1]--;var s=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=s&&t.filter_date[1]>=s&&t.filter_stage.includes(e.stage):t.filter_date[0]<=s&&t.filter_date[1]>=s:t.filter_stage.includes(e.stage))}))},secondDeals:function(t){return t.deals.filter((function(e){if(2!=e.stage)return!1;var a=e.deadline.split(/[- :]/);a[1]--;var s=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=s&&t.filter_date[1]>=s&&t.filter_stage.includes(e.stage):t.filter_date[0]<=s&&t.filter_date[1]>=s:t.filter_stage.includes(e.stage))}))},thirdDeals:function(t){return t.deals.filter((function(e){if(3!=e.stage)return!1;var a=e.deadline.split(/[- :]/);a[1]--;var s=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=s&&t.filter_date[1]>=s&&t.filter_stage.includes(e.stage):t.filter_date[0]<=s&&t.filter_date[1]>=s:t.filter_stage.includes(e.stage))}))},fourthDeals:function(t){return t.deals.filter((function(e){if(4!=e.stage)return!1;var a=e.deadline.split(/[- :]/);a[1]--;var s=i(Date,r(a));return!(t.filter_stage.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_stage.length?t.filter_date[0]<=s&&t.filter_date[1]>=s&&t.filter_stage.includes(e.stage):t.filter_date[0]<=s&&t.filter_date[1]>=s:t.filter_stage.includes(e.stage))}))}};e.a={isRegistered:!1,namespaced:!0,state:{deals:[],filter_stage:[],filter_date:[]},mutations:{SET_DEALS:function(t,e){t.deals=e},SET_FILTER_STAGE:function(t,e){t.filter_stage=e},SET_FILTER_DATE:function(t,e){t.filter_date=e}},getters:o}},p4fD:function(t,e,a){var i=a("DqGc");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},t4GV:function(t,e,a){"use strict";a.r(e);var i=a("nWMH"),s=a.n(i),n=a("Snq/"),r=a.n(n),l=a("e7F3");l.a.localize("en",{custom:{activity:{required:'O campo "Adicionar uma Atividade" é obrigatório'}}});var o={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){var e=this;if(t){var a=JSON.parse(JSON.stringify(this.data)),i=a.id,s=a.contact,n=a.email,r=a.telephone,l=a.company,o=a.address,c=a.origin;this.dataId=i,this.contact=s,this.email=n,this.telephone=r,this.company=l,this.address=o,this.origin=this.$store.state.initialSelectData.originStatus.find((function(t){return t.value===c})),this.$http.post("/api/users_list").then((function(t){t.data.status&&e.$store.commit("SET_USERS",t.data.user_list)})).catch((function(t){console.log(t)})),this.$http.post("/api/activities",{lead_id:this.dataId}).then((function(t){t.data.status&&e.$store.commit("activity/SET_ACTIVITIES",t.data.activity_list)})).catch((function(t){console.log(t)}))}}},data:function(){return{dataId:null,contact:"",email:"",telephone:"",company:"",address:"",origin:"",error:"",activity:"",settings:{maxScrollbarLength:60,wheelSpeed:.6}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},activities:function(){return this.$store.state.activity.activities},originStatus:function(){return this.$store.state.initialSelectData.originStatus},users:function(){return this.$store.state.UserList}},methods:{getOriginStatusColor:function(t){return"1"==t?"success":"2"==t?"warning":"3"==t?"danger":"primary"},addNewActivity:function(){var t=this;this.$validator.validateAll().then((function(e){e&&t.$http.post("/api/activity/add",{description:t.activity,user_id:t.$store.state.AppActiveUser.uid,lead_id:t.dataId}).then((function(e){e.data.status?(t.activity="",t.$store.commit("activity/SET_ACTIVITIES",e.data.activity_list),t.$validator.reset(),t.$vs.notify({title:"Lead Activity",text:"An activity added successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Lead Activity",text:"Adding activity failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Lead Activity",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}))},deleteLead:function(){var t=this,e=[];e.push(this.dataId),this.$http.post("/api/lead/delete",{ids:e}).then((function(e){e.data.status?(t.$store.commit("lead/SET_LEADS",e.data.lead_list),t.$vs.notify({title:"Lead Operation",text:"Lead deleted successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Lead Operation",text:"Deleting lead failed",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Lead Operation",text:t.error,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))},editLead:function(){this.$emit("editSidebar",this.data)},addDealData:function(){var t={is_lead:!0,lead_id:this.data.id};this.$emit("addDealData",t)}},components:{VuePerfectScrollbar:s.a,"v-select":r.a}},c=(a("eYXz"),a("KHd+")),d=Object(c.a)(o,(function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-5/12"},[i("VuePerfectScrollbar",{key:e.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[i("div",{staticClass:"p-6"},[i("h4",{staticClass:"py-6"},[e._v("Dados do Lead")]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Nome de contato")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.contact))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Email")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.email))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Telefone")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.telephone))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Nome de Empresa")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.company))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Endereço")]),i("br"),e._v(" "),i("span",{staticClass:"custom-text"},[e._v(e._s(e.address))])]),e._v(" "),i("div",{staticClass:"mb-6"},[i("span",{staticClass:"custom-placeholder"},[e._v("Origem")]),i("br"),e._v(" "),i("vs-chip",{attrs:{color:e.getOriginStatusColor(e.origin.value)}},[e._v(e._s(e.origin.label))])],1),e._v(" "),i("div",{staticClass:"my-12",staticStyle:{position:"absolute",bottom:"0px"}},[i("vs-button",{staticClass:"custom-filled-button btn-block",attrs:{color:"white",type:"filed"},on:{click:function(){e.isSidebarActiveLocal=!1,t.addDealData()}}},[e._v("Adicionar a negócios")])],1)])])],1),e._v(" "),i("div",{staticClass:"vx-col w-7/12 activity-container p-0"},[i("div",{staticClass:"p-8 px-10"},[i("div",{staticClass:"mt-6 mb-10 flex items-center justify-between float-right"},[i("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-custom-content":"","vs-trigger-click":""}},[i("feather-icon",{staticClass:"cursor-pointer ml-auto mr-2",attrs:{icon:"MoreHorizontalIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}}),e._v(" "),i("vs-dropdown-menu",{staticClass:"vx-navbar-dropdown",staticStyle:{"z-index":"99990"}},[e.isSidebarActiveLocal?i("ul",{staticStyle:{"min-width":"9rem"}},[i("li",{staticClass:"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white",on:{click:function(){e.isSidebarActiveLocal=!1,t.editLead()}}},[i("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-4 h-4"}}),e._v(" "),i("span",{staticClass:"ml-2"},[e._v("Editar")])],1),e._v(" "),i("li",{staticClass:"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white",on:{click:function(){e.isSidebarActiveLocal=!1,t.deleteLead()}}},[i("feather-icon",{attrs:{icon:"TrashIcon",svgClasses:"w-4 h-4"}}),e._v(" "),i("span",{staticClass:"ml-2"},[e._v("Excluir")])],1)]):e._e()])],1),e._v(" "),i("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),e._v(" "),i("div",{staticClass:"mt-10 pt-8"},[i("span",{staticClass:"custom-placeholder"},[e._v("Adicionar uma Atividade")]),e._v(" "),i("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"activity",danger:e.errors.has("activity"),"val-icon-success":"done","val-icon-danger":"clear"},model:{value:e.activity,callback:function(t){e.activity=t},expression:"activity"}}),e._v(" "),e.errors.has("activity")?i("span",{staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("activity")))]):e._e()],1),e._v(" "),i("div",{staticClass:"my-6"},[i("div",{staticClass:"float-right btn-add-new p-2 mb-6 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary add-button",on:{click:e.addNewActivity}},[i("span",{staticClass:"ml-2 text-primary"},[e._v("Registrar")])])])]),e._v(" "),i("vs-divider",{staticClass:"mb-0"}),e._v(" "),i("VuePerfectScrollbar",{key:e.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[i("div",{staticClass:"p-8 px-10 mb-12"},e._l(e.activities,(function(t,a){return i("div",{key:t.id,staticClass:"d-flex activity-contents"},[i("div",{class:a!=e.activities.length-1?"left-border-activity":"left-border-activity-last"},[i("feather-icon",{staticClass:"cursor-pointer activity-icon",attrs:{icon:"CircleIcon"}})],1),e._v(" "),i("div",{staticClass:"activity-content py-2 px-4"},[i("span",{staticClass:"custom-placeholder"},[e._v(e._s(t.description))]),i("br"),e._v(" "),i("span",[e._v(e._s(t.created_at))]),i("br"),e._v(" "),i("span",[e._v("por "+e._s(e.users.find((function(e){return e.id===t.user_id})).name))])])])})),0)])],1)])])}),[],!1,null,"31ee8d4e",null).exports,v=a("Ye/U"),u=a.n(v);l.a.localize("en",{custom:{contato:{required:'O campo "Nome de contato" é obrigatório'},email:{required:'O campo "E-Mail" é obrigatório',email:'O campo "E-Mail" precisa ser válido'},company:{required:'O campo "Nome de Empresa" é obrigatório'},address:{required:'O campo "Nome de Endereço" é obrigatório'},telephone:{required:'O campo "Telefone" é obrigatório',regex:'O campo "Telefone" precisa ser válido. Ex: (99) 9999-9999 ou (99) 99999-9999'},origin:{required:'O campo "Origem" é obrigatório'}}});var f={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){if(t)if(0===Object.entries(this.data).length)this.initValues(),this.$validator.reset();else{var e=JSON.parse(JSON.stringify(this.data)),a=e.id,i=e.contact,s=e.email,n=e.telephone,r=e.company,l=e.address,o=e.origin;this.dataId=a,this.contact=i,this.email=s,this.telephone=n,this.company=r,this.address=l,this.origin=this.$store.state.initialSelectData.originStatus.find((function(t){return t.value===o})),this.initValues()}}},data:function(){return{dataId:null,contact:"",email:"",telephone:"",company:"",address:"Test",origin:"",error:"",settings:{maxScrollbarLength:60,wheelSpeed:.6}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||(null!==this.dataId&&this.dataId>=0&&this.$emit("viewSidebar",this.data),this.$emit("closeSidebar"))}},originStatus:function(){return this.$store.state.initialSelectData.originStatus}},methods:{initValues:function(){this.data.id||(this.dataId=null,this.contact="",this.email="",this.telephone="",this.company="",this.address="Test",this.origin=this.$store.state.initialSelectData.originStatus.find((function(t){return 1===t.value})))},telephoneMask:function(t){var e=["(99) 9999-99999","(99) 99999-9999"],a=t.target,i=a.value.replace(/\D/g,""),s=a.value.length>14?1:0;u()(a).unMask(),u()(a).maskPattern(e[s]),a.value=u.a.toPattern(i,e[s]),this.telephone=a.value},submitData:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a={id:t.dataId,contact:t.contact,email:t.email,telephone:t.telephone,address:t.address,company:t.company,origin:t.origin.value};null!==t.dataId&&t.dataId>=0?t.$http.put("/api/leads/edit",a).then((function(e){e.data.status?(t.$http.post("/api/activity/add",{description:"Lead editado pelo usuário",user_id:t.$store.state.AppActiveUser.uid,lead_id:t.dataId}).then((function(e){e.data.status&&t.$vs.notify({title:"Lead Activity",text:"An activity added successfully!",color:"success",iconPack:"feather",icon:"icon-check"})})).catch((function(t){console.log(t)})),t.$store.commit("lead/SET_LEADS",e.data.lead_list),t.$emit("viewSidebar",{id:t.dataId,contact:t.contact,email:t.email,telephone:t.telephone,address:t.address,company:t.company,origin:t.origin.value}),t.$emit("closeSidebar"),t.$vs.notify({title:"Lead Operation",text:"Lead edited successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Lead Operation",text:"Editing lead failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Lead Operation",text:t.error,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})):t.$http.put("/api/leads/add",a).then((function(e){e.data.status?(t.$store.commit("lead/SET_LEADS",e.data.lead_list),t.$emit("closeSidebar"),t.$vs.notify({title:"Lead Operation",text:"Lead added successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Lead Operation",text:"Adding lead failed!",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Lead Operation",text:t.error,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}}))}},components:{VMasker:u.a,VuePerfectScrollbar:s.a,"v-select":r.a}},p=(a("8JNi"),Object(c.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(0===Object.entries(this.data).length?"Cadastrar":"Editar")+" Lead")]),t._v(" "),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),t._v(" "),a("vs-divider",{staticClass:"mb-0"}),t._v(" "),a("VuePerfectScrollbar",{key:t.$vs.rtl,staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6"},[a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Nome")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"text",name:"contact",danger:t.errors.has("contact"),placeholder:"Preencha o nome do contato","val-icon-danger":"clear"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}),t._v(" "),t.errors.has("contact")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("contact")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("E-Mail")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full",attrs:{type:"email",name:"email",danger:t.errors.has("email"),placeholder:"E-Mail de contato","val-icon-success":"done","val-icon-danger":"clear"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),t.errors.has("email")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("email")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Telefone")]),t._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^\(?([0-9]{2})\)?[-. ]?([0-9]{4,5})[-. ]?([0-9]{4})$/},expression:"{ required: true, regex: /^\\(?([0-9]{2})\\)?[-. ]?([0-9]{4,5})[-. ]?([0-9]{4})$/ }"}],staticClass:"w-full",attrs:{type:"text",name:"telephone",danger:t.errors.has("telephone"),placeholder:"ex. (21) 99999-9999","val-icon-danger":"clear"},on:{keyup:t.telephoneMask},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}}),t._v(" "),t.errors.has("telephone")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("telephone")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Empresa")]),t._v(" "),a("vs-input",{staticClass:"w-full",attrs:{type:"text",name:"company",danger:t.errors.has("company"),placeholder:"Preencha com a empresa do contato","val-icon-success":"done","val-icon-danger":"clear"},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}}),t._v(" "),t.errors.has("company")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("company")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"custom-placeholder"},[t._v("Origem")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.originStatus,name:"origin"},model:{value:t.origin,callback:function(e){t.origin=e},expression:"origin"}}),t._v(" "),t.errors.has("origin")?a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("origin")))]):t._e()],1),t._v(" "),a("div",{staticClass:"mb-6"},[a("span",{staticClass:"text-danger"},[t._v(t._s(t.error))])]),t._v(" "),a("div",{staticClass:"flex flex-wrap justify-between my-5"},[a("vs-button",{staticClass:"custom-filled-button btn-block",attrs:{color:"white",type:"filed"},on:{click:t.submitData}},[t._v("Salvar")])],1)])])],1)}),[],!1,null,"ee070e6c",null).exports),h=a("8k7L"),m={isRegistered:!1,namespaced:!0,state:{leads:[],filter_origin:[],filter_date:[]},mutations:{SET_LEADS:function(t,e){t.leads=e},SET_FILTER_ORIGIN:function(t,e){t.filter_origin=e},SET_FILTER_DATE:function(t,e){t.filter_date=e}},getters:{filteredLeads:function(t){return t.leads.filter((function(e){var a=e.created_at.split(/[- :]/);a[1]--;var i=new Date(a[0],a[1],a[2]);return!(t.filter_origin.length||t.filter_date.length&&null!=t.filter_date[0])||(t.filter_date.length&&null!=t.filter_date[0]?t.filter_origin.length?t.filter_date[0]<=i&&t.filter_date[1]>=i&&t.filter_origin.includes(e.origin):t.filter_date[0]<=i&&t.filter_date[1]>=i:t.filter_origin.includes(e.origin))}))}}},g=a("7EX9"),b=(a("QRy/"),{components:{DataViewSidebar:d,DataEditSidebar:p,DealEditSidebar:h.a,DatePicker:g.a,"v-select":r.a},data:function(){return{selected:[],itemsPerPage:20,isMounted:!1,addNewDealDataSidebar:!1,addNewDataSidebar:!1,addViewDataSidebar:!1,sidebarData:{},viewbarData:{},filterDate:[],filterOrigin:[]}},computed:{currentPage:function(){return this.isMounted?this.$refs.table.currentx:0},leads:function(){var t=[];return this.filterOrigin.forEach((function(e){t.push(e.value)})),this.$store.commit("lead/SET_FILTER_ORIGIN",t),this.$store.commit("lead/SET_FILTER_DATE",this.filterDate),this.$store.getters["lead/filteredLeads"]},originStatus:function(){return this.$store.state.initialSelectData.originStatus},queriedItems:function(){return this.$refs.table?this.$refs.table.queriedResults.length:this.leads.length},activeUserInfo:function(){return this.$store.state.AppActiveUser}},methods:{addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},deleteData:function(){var t=this,e=[];this.selected.forEach((function(t){e.push(t.id)})),this.$http.post("/api/lead/delete",{ids:e}).then((function(e){e.data.status?(t.$store.commit("lead/SET_LEADS",e.data.lead_list),t.selected=[],t.$vs.notify({title:"Lead Operation",text:"Leads deleted successfully!",color:"success",iconPack:"feather",icon:"icon-check"})):t.$vs.notify({title:"Lead Operation",text:"Deleting leads failed",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})})).catch((function(e){t.$vs.notify({title:"Lead Operation",text:e,color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))},addDealData:function(t){this.sidebarData=t,this.toggleDealDataSidebar(!0)},editData:function(t){this.sidebarData=t,this.toggleDataSidebar(!0)},viewData:function(t){this.sidebarData=t,this.toggleEditDataSidebar(!0)},getOriginStatusColor:function(t){return"1"==t?"success":"2"==t?"warning":"3"==t?"danger":"primary"},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t},toggleEditDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addViewDataSidebar=t},toggleDealDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDealDataSidebar=t},selectAll:function(){this.selected.length==this.leads.length?this.selected=[]:this.selected=this.leads},selectRow:function(t,e){this.toggleEditDataSidebar(!1),t.target.checked?this.selected.find((function(t){return t.id===e.id}))||this.selected.push(e):this.selected.find((function(t){return t.id===e.id}))&&this.selected.splice(this.selected.indexOf(e),1)}},created:function(){var t=this;m.isRegistered||(this.$store.registerModule("lead",m),m.isRegistered=!0),this.$http.post("/api/leads").then((function(e){e.data.status&&t.$store.commit("lead/SET_LEADS",e.data.lead_list)})).catch((function(t){console.log(t)}))},mounted:function(){this.isMounted=!0}}),_=(a("Wp5e"),Object(c.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",{staticClass:"leads-container"},[a("deal-edit-sidebar",{attrs:{isSidebarActive:t.addNewDealDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDealDataSidebar}}),t._v(" "),a("data-edit-sidebar",{attrs:{isSidebarActive:t.addNewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar,viewSidebar:t.viewData}}),t._v(" "),a("data-view-sidebar",{attrs:{isSidebarActive:t.addViewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleEditDataSidebar,editSidebar:t.editData,addDealData:t.addDealData}}),t._v(" "),a("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[a("vs-table",{ref:"table",attrs:{pagination:"","max-items":t.itemsPerPage,data:t.leads},on:{selected:function(e){return t.viewData(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[a("tbody",t._l(i,(function(e,i){return a("vs-tr",{key:i,attrs:{data:e}},[a("td",{staticClass:"td-check"},[a("vs-checkbox",{attrs:{value:!!t.selected.find((function(t){return t.id===e.id}))},on:{click:function(a){return a.stopPropagation(),i=a,t.selectRow(i,e);var i}}})],1),t._v(" "),a("vs-td",[a("p",{staticClass:"lead-name font-medium truncate"},[t._v(t._s(e.contact))])]),t._v(" "),a("vs-td",[a("p",{staticClass:"lead-name font-medium truncate"},[t._v(t._s(e.email))])]),t._v(" "),a("vs-td",[a("p",{staticClass:"lead-name font-medium truncate"},[t._v(t._s(e.telephone))])]),t._v(" "),a("vs-td",[a("vs-chip",{attrs:{color:t.getOriginStatusColor(e.origin)}},[t._v(t._s(t.originStatus.find((function(t){return t.value===e.origin})).label))])],1),t._v(" "),a("vs-td",[a("p",{staticClass:"lead-name font-medium truncate"},[t._v(t._s(t.formatDateTime(e.created_at)))])]),t._v(" "),a("vs-td",{staticClass:"img-container"},[a("img",{staticClass:"rounded-full product-img",attrs:{src:t.activeUserInfo.photoURL}})]),t._v(" "),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"ChevronRightIcon",svgClasses:"w-5 h-5 text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.viewData(e)}}})],1)],1)})),1)]}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap items-center data-list-btn-container action-container"},[a("div",{staticClass:"vx-row m-0"},[a("div",{staticClass:"vx-col w-1/2 table-title p-0"},[t._v("\n                                Lista de Leads\n                            ")]),t._v(" "),a("div",{staticClass:"vx-col w-1/2 p-0"},[a("div",{staticClass:"btn-add-new p-2 mb-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary add-button",on:{click:t.addNewData}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),t._v(" "),a("span",{staticClass:"ml-2 text-primary"},[t._v("Adicionar Lead")])],1)])]),t._v(" "),a("div",{staticClass:"rx-row justify-content-end filter-container mb-6 mt-3"},[a("div",{staticClass:"vx-col w-full flex-wrap"},[a("date-picker",{attrs:{editable:!1,lang:"pt-br",range:"",placeholder:"Todos as datas"},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}}),t._v(" "),a("v-select",{staticClass:"origin-filter ml-3",attrs:{multiple:"",options:[],placeholder:"Todos as responsável"}}),t._v(" "),a("v-select",{staticClass:"origin-filter",attrs:{multiple:"",options:t.originStatus,placeholder:"Todos as origens"},model:{value:t.filterOrigin,callback:function(e){t.filterOrigin=e},expression:"filterOrigin"}})],1)]),t._v(" "),a("div",{staticClass:"rx-row filter-container d-flex mb-8"},[a("div",{staticClass:"vx-col w-1/2 d-flex"},[a("div",{staticClass:"action-button font-light",on:{click:t.selectAll}},[a("feather-icon",{attrs:{icon:"CornerLeftDownIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Selecionar todos")])],1),t._v(" "),a("div",{staticClass:"action-button font-light ml-6",on:{click:t.deleteData}},[a("feather-icon",{attrs:{icon:"Trash2Icon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Excluir")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2 d-flex flex-row-reverse"},[a("div",{staticClass:"action-button font-light ml-6"},[a("feather-icon",{attrs:{icon:"PrinterIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Imprimir")])],1),t._v(" "),a("div",{staticClass:"action-button font-light"},[a("feather-icon",{attrs:{icon:"DownloadIcon",svgClasses:"h-3 w-3"}}),t._v(" "),a("span",{staticClass:"ml-1"},[t._v("Importar")])],1)])])])]),t._v(" "),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"checkbox"}}),t._v(" "),a("vs-th",{attrs:{"sort-key":"contact"}},[t._v("Contato")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"email"}},[t._v("Email")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"telephone"}},[t._v("Telefone")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"origin"}},[t._v("Origem")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"create"}},[t._v("Criação")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"reponsible"}},[t._v("Responsável")]),t._v(" "),a("vs-th")],1)],2)],1)],1)}),[],!1,null,null,null));e.default=_.exports},t8YN:function(t,e,a){"use strict";var i=a("Ejr4");a.n(i).a}}]);